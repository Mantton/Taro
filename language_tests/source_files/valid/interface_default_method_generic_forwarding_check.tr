// CHECK_ONLY
// Repro: default interface method forwarding to another generic method should infer type args.

interface Hashable {
    func hash[H](&self, _ hasher: &mut H)
}

interface Hasher {
    func combine[V: Hashable](&mut self, _ value: V) {
        value.hash(self)
    }
}

struct Token {}

impl Hashable for Token {
    public func hash[H](&self, _ hasher: &mut H) {}
}

struct DummyHasher {}

impl Hasher for DummyHasher {}

func feed[H: Hasher](_ hasher: &mut H) {
    hasher.combine(Token {})
}

func main() {
    var hasher = DummyHasher {}
    feed(&mut hasher)
}
