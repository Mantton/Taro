func add(a: int32, b: int32 = 10) -> int32 {
    return a + b
}

func complex_default(a: int32, b: int32 = 5 + 5) -> int32 {
    return a + b
}

func provider_call() -> int32 {
    return 100
}

func call_provider(a: int32, b: int32 = provider_call()) -> int32 {
    return a + b
}


func generic_simple[T](a: T) -> int32 {
    return 0
}

func main() {
    // 1. Simple literal default
    if add(a: 5) != 15 {
        std.print("FAIL: add(a: 5) failed\n")
        // panic("add(5) failed")
    }
    if add(a: 5, b: 20) != 25 {
        std.print("FAIL: add(a: 5, b: 20) failed\n")
    }

    // 2. Complex expression default
    if complex_default(a: 5) != 15 {
        std.print("FAIL: complex_default(a: 5) failed\n")
    }

    // 3. Function call as default
    if call_provider(a: 5) != 105 {
        std.print("FAIL: call_provider(a: 5) failed\n")
    }

    std.print("PASS: Default parameters functional\n")
}
