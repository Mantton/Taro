// Test: Derived Clone for enums

enum Status: Clone, Copy {
    case Active
    case Inactive
    case Pending
}

enum Result: Clone {
    case Ok(int32)
    case Error(string)
}

enum Option: Clone {
    case Some(int32)
    case None
}

func main() {
    // Test unit variant clone (Copy)
    let s1 = Status.Active
    let s2 = s1.clone()

    match s2 {
        case Status.Active => {}
        case Status.Inactive => {
            print("Error: s2 should be Active")
            return
        }
        case Status.Pending => {
            print("Error: s2 should be Active")
            return
        }
    }

    // Test tuple variant clone with Copy field
    let r1 = Result.Ok(42)
    let r2 = r1.clone()

    match r2 {
        case Result.Ok(v) => {
            if v != 42 {
                print("Error: r2 should be Ok(42)")
                return
            }
        }
        case Result.Error(_) => {
            print("Error: r2 should be Ok, not Error")
            return
        }
    }

    // Test mixed variants
    let o1 = Option.Some(100)
    let o2 = o1.clone()

    match o2 {
        case Option.Some(v) => {
            if v != 100 {
                print("Error: o2 should be Some(100)")
                return
            }
        }
        case Option.None => {
            print("Error: o2 should be Some, not None")
            return
        }
    }

    let o3 = Option.None
    let o4 = o3.clone()

    match o4 {
        case Option.Some(_) => {
            print("Error: o4 should be None")
            return
        }
        case Option.None => {}
    }

    print("Success")
}
