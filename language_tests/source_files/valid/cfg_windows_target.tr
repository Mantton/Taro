// TARGET: x86_64-pc-windows-msvc
// CHECK_ONLY
// Test cfg with Windows target - verifies cross-target CHECK_ONLY works

@cfg(os("windows"))
func windows_func() -> int32 {
    return 1
}

@cfg(!os("linux") && !os("macos"))
func not_unix_func() -> int32 {
    return 2
}

// This should NOT be included on Windows target
@cfg(os("linux"))
func linux_only_excluded() -> int32 {
    return 999
}

func main() {
    let a = windows_func()
    let b = not_unix_func()
    
    // These should all compile when targeting Windows
    print("Windows cfg test\n")
}
