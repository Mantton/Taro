// Basic closure test - non-capturing and capturing closures
func main() {
    // Simple closure with explicit types
    let add = |a: int32, b: int32| -> int32 { a + b }
    let result = add(2, 3)
    std.assert(result == 5, "add(2, 3) should be 5")

    // Closure that returns expression body
    let square = |x: int32| -> int32 { x * x }
    std.assert(square(4) == 16, "square(4) should be 16")

    // Closure with no params
    let get_five = || -> int32 { 5 }
    std.assert(get_five() == 5, "get_five() should be 5")

    // Test capturing closures
    let x: int32 = 10
    let add_x = |y: int32| -> int32 { x + y }
    std.assert(add_x(5) == 15, "add_x(5) should be 15")

    // Capture multiple variables
    let a: int32 = 3
    let b: int32 = 4
    let sum_ab = || -> int32 { a + b }
    std.assert(sum_ab() == 7, "sum_ab() should be 7")

    std.print("closure_basic: PASSED\n")
}
