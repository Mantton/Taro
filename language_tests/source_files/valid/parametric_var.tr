
type int = isize

interface Producer {
    type Item
    func produce(&self) -> Self.Item
}

struct IntProducer {}

impl Producer for IntProducer {
    type Item = int
    func produce(&self) -> int { return 42 }
}

// Test: Variable type inference and assignment
// Since T.Item = int, we should be able to assign T.produce() to an int variable
func consumeProducer[T: Producer[Item = int]](_ p: T) {
    let x: int = p.produce()
    assert(x == 42, "Failed to consume int from producer")
}

func main() {
    let p = IntProducer {}
    consumeProducer(p)
    std.print("PASS: Parametric variable type\n")
}
